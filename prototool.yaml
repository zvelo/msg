---
protoc_version: 3.5.1

excludes:
  - health/
  - include/

protoc_includes:
  - include/

protoc_include_wkt: true

lint:
  group: default

  exclude_ids:
    - ENUM_FIELD_PREFIXES
    - ENUM_ZERO_VALUES_INVALID
    - REQUEST_RESPONSE_TYPES_IN_SAME_FILE
    - REQUEST_RESPONSE_TYPES_UNIQUE

gen:
  go_options:
    import_path: zvelo.io/msg
    no_default_modifiers: true
    extra_modifiers:
      google/protobuf/any.proto: github.com/gogo/protobuf/types
      google/protobuf/duration.proto: github.com/gogo/protobuf/types
      google/protobuf/struct.proto: github.com/gogo/protobuf/types
      google/protobuf/timestamp.proto: github.com/gogo/protobuf/types
      google/protobuf/wrappers.proto: github.com/gogo/protobuf/types

  plugins:
    - name: gozvelo
      type: gogo
      flags: plugins=grpc
      output: ./msgpb

    - name: grpc-gateway
      type: go
      flags: logtostderr=true,request_context=true
      output: ./msgpb

    - name: swagger
      flags: logtostderr=true
      output: .
